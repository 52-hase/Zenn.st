---
title: "é™çš„OGPã®è¨­å®šæ–¹æ³•ï¼ˆé–‹ç™ºç’°å¢ƒ / æœ¬ç•ªç’°å¢ƒï¼‰"
emoji: "ğŸ“˜"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [OGP]
published: false
---
### é–‹ç™ºç’°å¢ƒ
- macOS
- VSCode
- Rails 7.1.3.3
- ruby-3.2.3
- PostgreSQL 16.2

### è¡Œã„ãŸã„ã“ã¨
- `Xï¼ˆTwitterï¼‰`ã§ã‚¢ãƒ—ãƒªã®ãƒªãƒ³ã‚¯ã‚’ãƒã‚¹ãƒˆã™ã‚‹éš›ã«æŒ‡å®šã—ãŸç”»åƒã‚„ã‚¿ã‚¤ãƒˆãƒ«ã®è¡¨ç¤ºã‚’ã™ã‚‹ã€‚
<br>
<br>
<br>

# Gemã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
ãƒ»`Gemfile`ã«ä»¥ä¸‹ã‚’è¿½è¨˜ã—`bundle install`
```js:Gemfile
gem "meta-tags"
```
# rails g meta_tags:install ã‚³ãƒãƒ³ãƒ‰ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ 
ãƒ»ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œ
```js:ã‚¿ãƒ¼ãƒŸãƒŠãƒ«
$ rails g meta_tags:install
```
ãƒ»ã“ã¡ã‚‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¿½åŠ ã•ã‚Œã‚‹ï¼ˆä¿®æ­£è¿½è¨˜ä¸è¦ï¼‰
```js:config/initializers/meta_tags.rb
MetaTags.configure do |config|

# ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã§æ§˜ã€…ãªè¨˜è¼‰

end
```

# display_meta_tagsãƒ¡ã‚½ãƒƒãƒ‰ã®è¿½è¨˜
ãƒ»`app/views/layouts/application.html.erb`ã«ä»¥ä¸‹ã®è¿½è¨˜ã‚’ã™ã‚‹
```rb:app/views/layouts/application.html.erb
<!DOCTYPE html>
<html>
  <head>
    <title>Myapp</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", media: "all", as: "style", "data-turbo-track": "reload" %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", type: "module" %>

    <%= display_meta_tags(default_meta_tags) %>   # ã“ã‚Œã‚’è¿½è¨˜
```

# default_meta_tags ãƒ¡ã‚½ãƒƒãƒ‰ã®è¨˜è¼‰
ãƒ»`app/helpers/application_helper.rb`ã«ä»¥ä¸‹ã®æ§˜ã«è¨˜è¼‰
```rb:app/helpers/application_helper.rb
module ApplicationHelper
  def default_meta_tags
    {
      site: 'Live Fes',
      title: 'éŸ³æ¥½ãƒ©ã‚¤ãƒ–ãƒ»ãƒ•ã‚§ã‚¹ã®ä½™éŸ»ã‚’å…±æœ‰ã§ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹',
      reverse: true,
      charset: 'utf-8',
      description: 'Live Fesã§ã¯ã€éŸ³æ¥½ãƒ©ã‚¤ãƒ–ã‚„ãƒ•ã‚§ã‚¹ã®ä½™éŸ»ã‚„å–ªå¤±æ„Ÿã‚’å‚åŠ è€…åŒå£«ã§å…±é€šã—ã€æ„Ÿæƒ³ã‚„æ€ã„å‡ºã‚’èªã‚Šåˆã†ã“ã¨ãŒã§ãã¾ã™ã€‚',
      keywords: 'éŸ³æ¥½,ãƒ©ã‚¤ãƒ–,ãƒ•ã‚§ã‚¹,ä½™éŸ»,å–ªå¤±æ„Ÿ,å…±æœ‰',
      canonical: request.original_url,
      separator: '|',
      og:{
        site_name: :site,
        title: :title,
        description: :description,
        type: 'website',
        url: request.original_url,
        image: image_url('ogp.png'),
        local: 'ja-JP'
      },
      twitter: {
        card: 'summary_large_image',
        site: '@obvyamdrss',
        image: image_url('ogp.png')
      }
    }
  end
end
```

https://chrome.google.com/webstore/detail/localhost-open-graph-debu/kckjjmiilgndeaohcljonedmledlnkij

[![Image from Gyazo](https://i.gyazo.com/f3ed5e696c02a2ce3120b937a3bef10c.png)](https://gyazo.com/f3ed5e696c02a2ce3120b937a3bef10c)

[![Image from Gyazo](https://i.gyazo.com/8fd55e6bdb09ae5b1b812c444d241964.png)](https://gyazo.com/8fd55e6bdb09ae5b1b812c444d241964)

[![Image from Gyazo](https://i.gyazo.com/c1ad4f9fa8a14f05fcaf14943f6278a6.png)](https://gyazo.com/c1ad4f9fa8a14f05fcaf14943f6278a6)

[![Image from Gyazo](https://i.gyazo.com/7146278c575e44963155f9dc07266ad5.png)](https://gyazo.com/7146278c575e44963155f9dc07266ad5)