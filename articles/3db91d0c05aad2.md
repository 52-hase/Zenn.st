---
title: "仮・Dockerについて公式になぞって"
emoji: "📚"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [Docker]
published: false
---
### 開発環境
- macOS
- VSCode
- Rails 7.1.3.3
- ruby-3.2.3
- PostgreSQL 16.2
- Heroku

### 行いたいこと
- 


<br>
<br>
<br>

# Docker をはじめよう

Docker は、アプリケーションを **開発（develop）**、**配送（ship）**、**実行（run）** するためのオープンプラットフォームです。インフラ環境とアプリケーションを切り離し、環境間の差異を減らすことで、ソフトウェアの提供速度と信頼性を向上させます。

---

## Docker プラットフォームでできること

- 一貫性のあるアプリケーション配信  
  開発 → テスト → 本番のワークフローにおいて、環境の違いによるトラブルを最小化できます。

- 迅速なデプロイ & スケーリング  
  ローカル・クラウド・データセンターなど多様な場所で同じように動かせるポータビリティ。必要に応じてコンテナを立てたり落としたりすることで負荷調整が可能。

- ハードウェアの有効活用  
  仮想マシンより軽量なコンテナを使うことで、同じサーバ上でより多くのプロセスを効率よく動かせます。

---

## アーキテクチャ構成要素

<details>
<summary>Docker の基本構造</summary>

- **Docker デーモン（`dockerd`）**  
  REST API を通じてコマンドを受け取り、イメージ／コンテナ／ネットワーク／ボリュームなどを管理。

- **Docker クライアント（`docker` CLI）**  
  ユーザが操作するツール。CLI コマンドをデーモンに送る。

- **Docker Desktop**  
  Mac, Windows, Linux 用 GUI 含むパッケージ。Engine, CLI, Compose, Kubernetes などが含まれており、開発環境を手軽に構築可能。

- **Docker レジストリ / Docker Hub**  
  イメージの保存と共有の場所。パブリック／プライベート両方対応。

- **Docker オブジェクト**  
  | オブジェクト | 説明 |
  |---|---|
  | イメージ（Image） | 読み取り専用のテンプレート。ベースイメージにレイヤーを重ねて構成 |
  | コンテナ（Container） | イメージを実行した状態。プロセスが隔離された環境で動く実体 |
  | ネットワーク / ボリューム | コンテナ間通信、データ永続化等を扱う補助的な構成要素 |

</details>

---

## 基礎技術・用語

- **コンテナ（Container）**  
  軽量で隔離された実行環境。ホスト OS やホスト環境の違いを意識せずにアプリを実行可能。

- **イメージ（Image）**  
  コンテナ作成時の設計図。ベース → ミドルウェア → アプリのようにレイヤー構造で構成。

- **レジストリ（Registry）**  
  イメージの保存場所。Docker Hub やプライベートレジストリで共有や配布が可能。

- **Docker Compose**  
  複数のコンテナを使う構成を YAML ファイルで定義し、一括で起動・停止・管理するツール。

---

## デーモン設定（`dockerd`）のポイント

<details>
<summary>主要な設定内容</summary>

- **設定方法**  
  - JSON ファイルによる設定  
  - 起動時のフラグ指定  
  - 両方で同一オプションを重複させるとエラーになる可能性あり

- **設定ファイルの場所**  

  | 環境 | デフォルトパス |
  |---|---|
  | Linux 通常モード | `/etc/docker/daemon.json` |
  | Linux rootless モード | `~/.config/docker/daemon.json` |
  | Windows | `C:\ProgramData\docker\config\daemon.json` |

- **データ格納ディレクトリ (`data-root`)**  
  デーモンはイメージ・コンテナ・ボリュームなどを一つのディレクトリに保存。デフォルトは Linux で `/var/lib/docker`。必要に応じて変更可能。

</details>

---

## 公式推奨の学習ステップ

1. Docker をインストール（Docker Desktop や Linux 環境で）  
2. 基本概念の理解：イメージ、コンテナ、レジストリ、Compose など  
3. 小さなアプリケーションを Docker 化して動かしてみる（`Dockerfile` の書き方、ビルド、実行）  
4. コンテナ間通信、データ永続化（ボリューム）、ネットワークなど応用的項目へ進む  
5. 複数コンテナサービスをまとめて管理する Docker Compose を使いこなす  

---

## 参考情報

Docker の公式ドキュメントより要点を整理しています。さらに学びたい場合は、公式の “Get Started” や “Engine” ドキュメントを読むのがおすすめです。




<br>
<br>


### 以上です。

<br>
<br>
<br>