---
title: "Gitについて"
emoji: "📚"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [Git]
published: false
---
### 行いたいこと
- Gitについての覚書をしていく


<br>
<br>
<br>

# Gitとは？
・ファイルの変更履歴を記録・管理する`バージョン管理システム`
・複数人での開発作業を効率化
・ファイルの変更を追跡し、過去の状態に戻すことが可能
・分散型なのでオフラインでも作業できる

**つまり、Gitとは、プログラムのソースコードなどの変更履歴を記録・追跡するための分散型バージョン管理システム**

<br>

# Gitの初期設定
**基本設定**
・`git config --global user.name "名前"`: ユーザー名を設定
・`git config --global user.email "メールアドレス"`: メールアドレスを設定
・`git config --global init.defaultBranch main`: デフォルトブランチ名をmainに設定
・`git config --list`: 設定内容を確認

**SSH鍵の設定**
・`ssh-keygen -t rsa -b 4096 -C "メールアドレス"`: SSH鍵を生成
・`~/.ssh/id_rsa.pub`の内容をGitHubに登録
・`ssh -T git@github.com`: 接続テスト

<br>

# Gitの基本概念
| 用語 | 説明 |
| ---- | ---- |
| `リポジトリ` | プロジェクトのファイルと履歴を保存する場所 |
| `コミット` | ファイルの変更を記録するスナップショット |
| `ブランチ` | 開発の流れを分岐させる仕組み |
| `ワーキングディレクトリ` | 実際に作業するフォルダ |
| `ステージングエリア` | コミット前の変更を一時保存する場所 |
| `HEAD` | 現在作業中のブランチの最新コミットを指すポインタ |

<br>

# よく使うGitコマンド
| コマンド | 説明 | 用途 |
| ---- | ---- | ---- |
| `git init` | 新しいリポジトリを作成 | 初期化 |
| `git add` | ファイルをステージングエリアに追加 | ステージング |
| `git branch` | ブランチの作成・一覧表示 | ブランチ管理 |
| `git commit` | 変更をコミット | 保存 |
| `git status` | 現在の状態を確認 | 状態確認 |
| `git log` | コミット履歴を表示 | 履歴確認 |
| `git checkout` | ブランチの切り替え | ブランチ操作 |
| `git merge` | 現在のブランチを他のブランチとマージする | マージ |
| `git rebase` | 元のブランチに変更点をマージ | リベース |
| `git push` | リモートリポジトリに送信 | アップロード |
| `git pull` | リモートから最新版を取得 | ダウンロード |
| `git clone` | リモートリポジトリを複製 | 複製 |

<br>

# 履歴操作・修正コマンド
**一時保存**
| コマンド | 説明 |
| ---- | ---- |
| `git stash` | 現在の作業を一時保存 |
| `git stash list` | stash一覧を表示 |
| `git stash pop` | 最新のstashを復元して削除 |
| `git stash apply` | stashを復元（削除はしない） |

**コミット修正**
| コマンド | 説明 |
| ---- | ---- |
| `git reset --soft HEAD~1` | 最新コミットを取り消し（変更は保持） |
| `git reset --hard HEAD~1` | 最新コミットを完全に取り消し |
| `git revert <commit>` | 指定したコミットを安全に打ち消す |
| `git commit --amend` | 最新コミットのメッセージを修正 |
| `git cherry-pick <commit>` | 特定のコミットのみを取り込む |

**ファイル復元**
| コマンド | 説明 |
| ---- | ---- |
| `git restore <file>` | ファイルをHEADの状態に戻す |
| `git restore --staged <file>` | ステージングを取り消す |
| `git checkout <commit> -- <file>` | 指定コミットからファイルを復元 |

<br>


# GitHubとの連携方法
GitHubでリポジトリを作成
　　↓
ローカルリポジトリとリモートを紐付け: `git remote add origin [URL]`
　　↓
初回プッシュ: `git push -u origin main`
　　↓
以降は`git push`でアップロード、`git pull`で他の人の変更を取得

<br>

# リモートリポジトリ操作
**リモート管理**
・`git remote add <name> <url>`: リモートを追加
・`git remote -v`: リモート一覧を表示
・`git remote set-url <name> <url>`: リモートURL変更

**ブランチ・タグ操作**
・`git fetch`: リモートの変更を確認のみ
・`git push -u origin <branch>`: 追跡設定付きプッシュ
・`git push --delete origin <branch>`: リモートブランチ削除
・`git push origin <tagname>`: タグをリモートに送信

<br>

# ブランチの作成・マージ手順
新ブランチ作成: `git branch [ブランチ名]`
　　↓
ブランチ切り替え: `git checkout [ブランチ名]`
　　↓
作成と同時に切り替え: `git checkout -b [ブランチ名]`
　　↓
マージ: `git merge [ブランチ名]`
　　↓
ブランチ削除: `git branch -d [ブランチ名]`

<br>

# コンフリクトの解決方法
- **コンフリクトとは**
・同じファイルの同じ箇所を複数の人が異なる内容で変更した際に起こる衝突
・Gitが自動でマージできない状態
・複数人開発では避けられない現象

- **発生する状況**
・同じ行を異なる内容で変更した際に発生
・異なるブランチで同じファイルを編集した場合
・マージやプル時に競合が検出される

- **解決手順**
コンフリクト箇所を手動で編集
　　↓
`<<<<<<<`、`=======`、`>>>>>>>`の記号を削除
　　↓
どちらの変更を採用するか決定（または両方を組み合わせ）　
　　↓
修正後に `git add` → `git commit`
（マージツールの活用も可能）

- **コンフリクト表示の見方**
・`<<<<<<< HEAD`: 現在のブランチの内容
・`=======`: 区切り線
・`>>>>>>> ブランチ名`: マージ対象ブランチの内容

<br>

# Gitのワークフロー
**基本フロー**
`作業`: ファイルを編集・作成
　　↓
`add`: 変更をステージングエリアに追加（git add .）
　　↓
`commit`: 変更を記録（git commit -m "メッセージ"）
　　↓
`push`: リモートリポジトリに送信（git push）

<br>

# Git Flow（複雑なプロジェクト向け）
**ブランチ構成**
`master/main`: 本番環境にリリースするブランチ
`develop`: 開発の統合ブランチ
`feature`: 新機能開発用ブランチ（feature/ログイン機能など）
`release`: リリース準備用ブランチ
`hotfix`: 緊急バグ修正用ブランチ

**流れ**
developから新機能用のfeatureブランチを作成
　　↓
機能開発完了後、featureをdevelopにマージ
　　↓
リリース時にreleaseブランチを作成
　　↓
テスト完了後、releaseをmasterとdevelopにマージ
　　↓
緊急時はmasterからhotfixブランチを作成










# GitHub Flow
**ブランチ構成**
・`master/main`: 常にデプロイ可能な状態
・`feature`: 機能追加・バグ修正用ブランチ

**流れ**
masterから新しいfeatureブランチを作成
　　↓
作業完了後、プルリクエストを作成
　　↓
コードレビュー実施
　　↓
レビュー完了後、masterにマージ
　　↓
自動デプロイが実行される

# プルリクエスト（Pull Request）
**目的**
・コードレビューを経てマージする仕組み
・品質向上とバグ防止
・チーム内での情報共有

**手順**
featureブランチで作業完了
　　↓
GitHubでプルリクエストを作成
　　↓
タイトルと説明文を記入
　　↓
レビュアーを指定
　　↓
レビュー完了後、マージボタンでmasterに統合
　　↓
不要になったfeatureブランチを削除




<br>
<br>


### 以上です。

<br>
<br>
<br>