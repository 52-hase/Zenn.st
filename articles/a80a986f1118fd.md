---
title: "GitHub Actionã«ã¤ã„ã¦"
emoji: "ğŸ“š"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [GitHubAction]
published: false
---
### é–‹ç™ºç’°å¢ƒ
- macOS
- VSCode
- Rails 7.1.3.3
- ruby-3.2.3
- PostgreSQL 16.2
- Heroku

### è¡Œã„ãŸã„ã“ã¨
- GitHub Actionã®å®Ÿè£…ã‚’ã—ã¦pushæ™‚ã«è‡ªå‹•ãƒ†ã‚¹ãƒˆã‚’è¡Œã†ã‚ˆã†ã«ã™ã‚‹ã€‚
- GitHub Actions ã¯ã€ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€ãƒ‡ãƒ—ãƒ­ã‚¤ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’è‡ªå‹•åŒ–ã§ãã‚‹ç¶™ç¶šçš„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¨ç¶™ç¶šçš„ãƒ‡ãƒªãƒãƒªãƒ¼ (CI/CD) ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚

ãƒ»GitHubã®æ‰‹é †ã§å®Ÿè£…ã™ã‚‹
https://docs.github.com/ja/actions/writing-workflows/quickstart
<br>
<br>
<br>

# GitHub Actionã®å°å…¥æ‰‹é †
ãƒ»`.github/workflows/main.ymlãƒ•ã‚¡ã‚¤ãƒ«`ã‚’æ‰‹å‹•ã§ä½œæˆã€ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¼‰ã™ã‚‹ã€‚
```:.github/workflows/main.yml
name: GitHub Actions Demo
run-name: ${{ github.actor }} is testing out GitHub Actions ğŸš€
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - run: echo "ğŸ‰ The job was automatically triggered by a ${{ github.event_name }} event."
      - run: echo "ğŸ§ This job is now running on a ${{ runner.os }} server hosted by GitHub!"
      - run: echo "ğŸ” The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
      - name: Check out repository code
        uses: actions/checkout@v4
      - run: echo "ğŸ’¡ The ${{ github.repository }} repository has been cloned to the runner."
      - run: echo "ğŸ–¥ï¸ The workflow is now ready to test your code on the runner."
      - name: List files in the repository
        run: |
          ls ${{ github.workspace }}
      - run: echo "ğŸ This job's status is ${{ job.status }}."
```

ãƒ»ãƒˆãƒªã‚¬ãƒ¼
```
on: [push]
```
`on:` ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã‚’æŒ‡å®šã™ã‚‹ã€‚ãƒªãƒã‚¸ãƒˆãƒªã«ã‚³ãƒ¼ãƒ‰ãŒpushã•ã‚Œã‚‹ã¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã€‚
ãƒ»ã‚¸ãƒ§ãƒ–ã®å®šç¾©
```
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
```
`jobs:` ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å†…ã®ã‚¸ãƒ§ãƒ–ã‚’å®šç¾©ã™ã‚‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€‚
`Explore-GitHub-Actions:` ã‚¸ãƒ§ãƒ–ã®åå‰ï¼ˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å†…ã§ä¸€æ„ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼‰
`runs-on:` ã“ã®ã‚¸ãƒ§ãƒ–ãŒå®Ÿè¡Œã•ã‚Œã‚‹ç’°å¢ƒã‚’æŒ‡å®šã™ã‚‹ã€‚(ubuntu-latestã€ã¨ã„ã†Ubuntuç’°å¢ƒã‚’æŒ‡å®š)












ãƒ»ã‚¹ãƒ†ãƒƒãƒ—ã®å®šç¾©
```
steps:
  - run: echo "ğŸ‰ The job was automatically triggered by a ${{ github.event_name }} event."
```
`steps:` ã“ã®ã‚¸ãƒ§ãƒ–å†…ã§å®Ÿè¡Œã•ã‚Œã‚‹ã‚¹ãƒ†ãƒƒãƒ—ã‚’å®šç¾©ã™ã‚‹ã€‚
`run:` ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ã€ã“ã“ã§ã¯GitHub Actionsã®ã‚¤ãƒ™ãƒ³ãƒˆåã‚’è¡¨ç¤ºã—ã¦ã„ã‚‹ã‚«ã€‚${{ github.event_name }}ã§ã‚¤ãƒ™ãƒ³ãƒˆã®ç¨®é¡ãŒå–å¾—ã§ãã‚‹ã‚¾ã€‚

```
  - run: echo "ğŸ§ This job is now running on a ${{ runner.os }} server hosted by GitHub!"
  - run: echo "ğŸ” The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
```

`${{ runner.os }}`ã¯å‹•ä½œã—ã¦ã„ã‚‹OSã®ç¨®é¡ã‚’ã€${{ github.ref }}ã¯ãƒ–ãƒ©ãƒ³ãƒåã‚’ã€${{ github.repository }}ã¯ãƒªãƒã‚¸ãƒˆãƒªåã‚’ç¤ºã™ã‚«ã€‚
ãƒªãƒã‚¸ãƒˆãƒªã‚³ãƒ¼ãƒ‰ã®ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ
```
  - name: Check out repository code
    uses: actions/checkout@v4
```
`name:` ã‚¹ãƒ†ãƒƒãƒ—ã®åå‰ã‚’è¨­å®šã™ã‚‹ãƒ€ã€‚ã“ã“ã§ã¯ã€ŒCheck out repository codeã€ã¨ãªã£ã¦ã„ã‚‹ã‚¾ã€‚
`uses:` ä»–ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã®æ§‹æ–‡ã§ã€actions/checkout@v4ã¯ãƒªãƒã‚¸ãƒˆãƒªã®ã‚³ãƒ¼ãƒ‰ã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ã‚«ã€‚
ãƒªãƒã‚¸ãƒˆãƒªå†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§è¡¨ç¤º
```
  - name: List files in the repository
    run: |
      ls ${{ github.workspace }}
```
`$${{ github.workspace }}`ã¯ç¾åœ¨ã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ãƒ‘ã‚¹ã‚’æŒ‡ã—ã€ãã®ä¸­ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹ãƒ€ã€‚
ã‚¸ãƒ§ãƒ–ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º
```
  - run: echo "ğŸ This job's status is ${{ job.status }}."
```
`${{ job.status }}`ã¯ã‚¸ãƒ§ãƒ–ã®å®Ÿè¡Œã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆæˆåŠŸã€å¤±æ•—ãªã©ï¼‰ã‚’è¡¨ç¤ºã™ã‚‹ã€‚

<br>
<br>
<br>