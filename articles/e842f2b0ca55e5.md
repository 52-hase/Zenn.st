---
title: "Action Cableについて"
emoji: "📚"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [ActionCable]
published: false
---
### 開発環境
- macOS
- VSCode
- Rails 7.1.3.3
- ruby-3.2.3


#### 行いたいこと
　RailsガイドのAction Cableについて自分なりにわかりやすいように噛み砕いたので覚書として記載する。
https://railsguides.jp/action_cable_overview.html
<br>
<br>


# Action Cableとは
　`Action Cable`は、`フロントエンドのWebSocket`と`バックエンドのRails環境`をシームレスに統合する、フルスタックなフレームワークです。

　つまり、フロントエンドとバックエンドの間でスムーズな通信を可能にし、開発者がRails環境で効率的にリアルタイム機能を構築できるようにします。

:::details WebSocketとは
　`WebSocket`とは、Webアプリケーションにおいてサーバーとクライアント間で双方向のリアルタイム通信を実現するための`プロトコル`です。
　従来のHTTPプロトコルでは、クライアントからのリクエストに対してサーバーが応答する一方向の通信モデルでしたが、`WebSocket`ではコネクションを確立した後は、サーバー側からもクライアントにデータを送信できる双方向の通信が可能になります。

　つまり、Action Cableでは、`通常のHTTPリクエスト・レスポンスプロトコル`の代わりに`WebSocket`を利用します。
:::

:::details プロトコルとは
　`プロトコル`とは、コンピュータやデバイス間で通信を行うための規則や手順を定めた取り決めです。これは、データの送受信方法、形式、順序、エラー処理などを明確に定義したものです。
:::


:::details コネクションとは
　`コネクション（connection）`は、クライアント・サーバーの通信の基礎とななります。
　Action Cableサーバーは、複数の`WebSocketコネクション`を同時に扱うことができ、それぞれに対応するコネクションインスタンスが生成されます。
　例えば、同じユーザーが複数のブラウザタブを開いたり、異なるデバイスを使用した場合、それぞれ独立した`WebSocketコネクション`が確立され、アプリケーションと接続されます。
:::


:::details WebSocketコネクション
　`WebSocketコネクション`とは、クライアント（ブラウザなど）とサーバーの間で双方向のリアルタイム通信を可能にする通信方式のことです。

　通常のHTTP通信では、クライアントがリクエストを送るたびにサーバーがレスポンスを返しますが、WebSocketでは一度接続が確立されると、サーバーとクライアントの間で常にデータをやり取りできる状態が維持されます。
:::


:::details コンシューマーとは
　WebSocketのクライアントは`コンシューマー（consumer）`と呼ばれます。Action Cableでは、クライアント側のJavaScriptフレームワークを使って、このコンシューマーを作成します。
　ここで言う「`コンシューマーを作成します`」 とは、WebSocket接続を確立し、サーバーとリアルタイム通信を行うための仕組みを準備することを指します。
:::


:::details チャネルとは
　`チャネル`とは、それぞれ特定の機能を担当する通信の単位で、MVCのコントローラーのようにデータのやり取りや処理を行います。
　コンシューマー（WebSocketのクライアント）は必ず1つ以上のチャネルを`サブスクライブ`する必要があり、複数のチャネルを同時にサブスクライブすることもできます。
　

例
ChatChannel → チャットのメッセージを送受信する
AppearancesChannel → ユーザーのオンライン状態を管理する
1つのコンシューマーは、これらのチャネルのどちらか一方、または両方をサブスクライブできます。
:::

:::details サブスクライブとは
`サブスクライブ`とは、WebSocketなどのリアルタイム通信システムにおいて、クライアント（コンシューマー）が特定のチャネルからの情報を受け取るために、そのチャネルへの「情報受信設定の登録」を開始することを意味します。
:::


:::details サブスクライバとは
　`サブスクライバ`とは、WebSocketなどのリアルタイム通信システムにおいて、特定のチャネルをサブスクライブしているコンシューマーのことです。
　コンシューマーがチャネルをサブスクライブすると、そのコンシューマーはそのチャネルの`サブスクライバ`になります。
　`サブスクライバ`とチャネルの間の接続は「`サブスクリプション`」と呼ばれます。一人のコンシューマーは同じチャネルに複数回サブスクライブすることも可能で、例えば複数のチャットルームを同時にサブスクライブできます。
:::


:::details Pub/Subとは
　`Pub/Sub`とは、`情報を送る側（Publisher/パブリッシャ）`が「誰に送るか」を直接指定せず、代わりに「どんな種類の情報か」という分類でメッセージを発信するシステムです。
　`情報を受け取る側（Subscriber/サブスクライバー）`は、自分が興味のある情報の種類を登録しておき、関連するメッセージが発信されたときだけ通知を受け取ります。




このPub/Subはメッセージキューのパラダイムの一種で、メッセージの非同期処理と一時保管の機能を提供します。送信者は「チャンネル」や「トピック」といった抽象化された宛先（抽象クラス）にメッセージを送信します。
Pub/Subの主な利点は、送信者と受信者の疎結合（デカップリング）を実現することです。送信者はどの受信者がメッセージを受け取るかを知る必要がなく、受信者も誰がメッセージを送信したかを必ずしも知る必要がありません。これにより、多対多の通信が効率化されます。
:::

<br>
<br>
<br>

# 


::::details 

'''


'''

::::

<br>
<br>
<br>