---
title: "アプリの追加機能について"
emoji: "😺"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [アプリ]
published: false
---

・Lineの通知機能
・コメントへのいいね機能
・ルームの並び替え

・曲の方をいじる
・スポティファイの使い方
・曲の追加の仕方の学習

### Lineの通知機能

```

ユーザー操作（例：楽曲再生・メッセージ送信）
        ↓
Rails Controller / ActionCable
        ↓
ActiveRecord（DB保存）
        ↓
通知対象ユーザー取得
        ↓
LINEクライアント（line-bot-api）
        ↓
:contentReference[oaicite:0]{index=0} へリクエスト送信
        ↓
:contentReference[oaicite:1]{index=1} サーバー
        ↓
ユーザーのLINEアプリへプッシュ通知

```
```
① ユーザーが再生ボタン押下
        ↓
② JavaScript → Railsへ送信
        ↓
③ 再生状態をDB保存
        ↓
④ 通知メソッド実行
        ↓
⑤ LINE APIへpush_message
        ↓
⑥ LINEサーバー経由でユーザーへ通知
```